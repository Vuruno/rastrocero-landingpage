<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <link rel="icon" type="image/x-icon" href="img/favicon5.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contacto | RastroCero - Climate Intelligence Platform</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;300;400;500;600;700;800;900&family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        rcGreen: '#79ce55',
                        rcGreenDark: '#589336',
                        rcGrey: '#525252',
                        rcWhite: '#fcfcfc',
                        rcLightGrey: '#dededd',
                        rcBlue: '#376daa',
                        rcDarkGreen: '#004834',
                    },
                    fontFamily: {
                        sans: ['Montserrat', 'sans-serif'],
                        mono: ['Space Mono', 'monospace'],
                    },
                }
            }
        }
    </script>

    <style>
        :root {
            --c-grey: #525252;
            --c-white: #fcfcfc;
            --c-green: #79ce55;
            --c-light-grey: #dededd;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        html, body {
            overflow-x: hidden;
            max-width: 100vw;
        }

        body {
            background-color: var(--c-white);
            color: var(--c-grey);
            font-family: 'Montserrat', sans-serif;
        }

        /* ====== SVG BACKGROUND ====== */
        .svg-background {
            position: fixed;
            top: 0;
            right: 0;
            width: 50%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: visible;
        }

        .svg-background svg {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            right: 0;
        }

        .flow-path {
            stroke-dasharray: 20 10;
            animation: flowDown 2s linear infinite;
        }

        @keyframes flowDown {
            0% { stroke-dashoffset: 30; }
            100% { stroke-dashoffset: 0; }
        }

        .flow-path-slow {
            stroke-dasharray: 15 15;
            animation: flowDown 3s linear infinite;
        }

        .flow-path-fast {
            stroke-dasharray: 25 5;
            animation: flowDown 1.5s linear infinite;
        }

        .sparkle {
            animation: sparkle 3s ease-in-out infinite;
            transform-origin: center;
        }

        @keyframes sparkle {
            0%, 100% { opacity: 0.2; transform: scale(0.8) rotate(0deg); }
            50% { opacity: 1; transform: scale(1.2) rotate(180deg); }
        }

        .sparkle-delayed { animation-delay: 1s; }
        .sparkle-delayed-2 { animation-delay: 2s; }
        .sparkle-delayed-3 { animation-delay: 0.5s; }
        .sparkle-delayed-4 { animation-delay: 1.5s; }

        .float { animation: float 4s ease-in-out infinite; }
        .float-delayed { animation-delay: 1s; }
        .float-delayed-2 { animation-delay: 2s; }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .pulse-node { animation: pulseNode 2s ease-in-out infinite; }

        @keyframes pulseNode {
            0%, 100% { r: 4; opacity: 0.6; }
            50% { r: 6; opacity: 1; }
        }

        /* ====== BUTTONS ====== */
        .btn-brand {
            display: inline-block;
            background: var(--c-grey);
            color: var(--c-white);
            text-decoration: none;
            font-weight: 800;
            border-radius: 50px;
            transition: transform 0.3s, background 0.3s, box-shadow 0.3s;
            border: 2px solid var(--c-grey);
            position: relative;
            overflow: hidden;
            white-space: nowrap;
        }

        .btn-brand::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .btn-brand:hover::before { left: 100%; }

        .btn-brand:hover {
            background: var(--c-green);
            border-color: var(--c-green);
            transform: scale(1.05);
            color: var(--c-white);
            box-shadow: 0 10px 40px rgba(121, 206, 85, 0.3);
        }

        .btn-submit {
            background: var(--c-green);
            border-color: var(--c-green);
            cursor: pointer;
        }

        .btn-submit:hover {
            background: var(--c-grey);
            border-color: var(--c-grey);
        }

        /* ====== NAV ====== */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            background: rgba(252, 252, 252, 0.95);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            box-sizing: border-box;
            max-width: 100vw;
            overflow-x: hidden;
            box-shadow: 0 4px 30px rgba(0,0,0,0.05);
        }

        .brand-logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
        }

        /* ====== FORM CONTAINER ====== */
        .form-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            min-height: 100vh;
            gap: 0;
        }

        .form-side {
            padding: 2rem;
            position: relative;
            z-index: 10;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .animation-side {
            position: relative;
            overflow: hidden;
        }

        /* ====== FORM STYLES ====== */
        .form-container {
            max-width: 600px;
            width: 100%;
        }

         /* ====== FOOTER ====== */
        footer {
            background: var(--c-green);
            color: var(--c-grey);
            position: relative;
            z-index: 10;
            overflow: hidden;
        }

        footer::before {
            content: '';
            position: absolute;
            inset: 0;
            opacity: 0.1;
            background-image: radial-gradient(#004834 1px, transparent 1px);
            background-size: 20px 20px;
        }

        .hero-section {
            max-width: 600px;
            width: 100%;
            text-align: center;
            margin-bottom: 3rem;
        }

        .form-section {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(148, 163, 184, 0.3);
            border-radius: 1.5rem;
            padding: 2rem;
            margin-bottom: 1.5rem;
            transition: all 0.3s ease;
        }

        .form-section:hover {
            border-color: var(--c-green);
            box-shadow: 0 10px 40px rgba(121, 206, 85, 0.1);
        }

        .form-section.hidden {
            display: none;
        }

        .form-label {
            display: block;
            font-weight: 600;
            color: var(--c-grey);
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
            text-align: left;
        }

        .form-label .required {
            color: #ef4444;
            margin-left: 0.25rem;
        }

        .form-input,
        .form-select,
        .form-textarea {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 2px solid #e5e7eb;
            border-radius: 0.75rem;
            font-family: 'Montserrat', sans-serif;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            background: white;
        }

        .form-input:focus,
        .form-select:focus,
        .form-textarea:focus {
            outline: none;
            border-color: var(--c-green);
            box-shadow: 0 0 0 3px rgba(121, 206, 85, 0.1);
        }

        .form-textarea {
            resize: vertical;
            min-height: 100px;
        }

        .form-radio-group,
        .form-checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 0.625rem;
        }

        .form-radio-label,
        .form-checkbox-label {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            padding: 0.875rem;
            border: 2px solid #e5e7eb;
            border-radius: 0.75rem;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }

        .form-radio-label:hover,
        .form-checkbox-label:hover {
            border-color: var(--c-green);
            background: rgba(121, 206, 85, 0.05);
        }

        .form-radio-label input:checked ~ .radio-content,
        .form-checkbox-label input:checked ~ .checkbox-content {
            font-weight: 600;
        }

        .form-radio-label input[type="radio"],
        .form-checkbox-label input[type="checkbox"] {
            margin-top: 0.25rem;
            width: 1.25rem;
            height: 1.25rem;
            cursor: pointer;
            accent-color: var(--c-green);
            flex-shrink: 0;
        }

        .help-text {
            font-size: 0.8rem;
            color: #6b7280;
            margin-top: 0.25rem;
            font-style: italic;
        }

        .section-title {
            font-size: 1.35rem;
            font-weight: 800;
            color: var(--c-grey);
            margin-bottom: 1.25rem;
            letter-spacing: -0.5px;
            text-align: left;
        }

        .section-divider {
            height: 2px;
            background: linear-gradient(to right, var(--c-green), transparent);
            margin-bottom: 1.5rem;
            border-radius: 2px;
        }

        /* ====== REVEAL ANIMATIONS ====== */
        .reveal {
            opacity: 0;
            transform: translateY(40px);
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        /* ====== FOOTER ====== */
        .form-footer {
            max-width: 600px;
            width: 100%;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid #e5e7eb;
            text-align: center;
        }

        @media (max-width: 1024px) {
            .form-wrapper {
                grid-template-columns: 1fr;
            }
            
            .animation-side {
                display: none;
            }

            .svg-background {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .hero-section h1 {
                font-size: 2rem !important;
            }

            .form-section {
                padding: 1.25rem;
            }
            
            .form-side {
                padding: 1rem;
            }
            
            nav {
                padding: 0.8rem 1.5rem !important;
            }
        }
    </style>
</head>
<body class="antialiased">

    <!-- SVG BACKGROUND -->
    <div class="svg-background">
        <svg id="background-svg" preserveAspectRatio="xMidYMin slice" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 6000">
            <defs>
                <symbol id="tree" viewBox="0 0 30 50">
                    <path d="M15 0 L25 20 L20 20 L28 35 L2 35 L10 20 L5 20 Z" fill="#79ce55"/>
                    <rect x="12" y="35" width="6" height="10" fill="#79ce55"/>
                </symbol>
                <symbol id="cloud" viewBox="0 0 60 30">
                    <ellipse cx="30" cy="20" rx="25" ry="10" stroke="#79ce55" stroke-width="1" fill="none"/>
                    <ellipse cx="20" cy="15" rx="15" ry="8" stroke="#79ce55" stroke-width="1" fill="none"/>
                    <ellipse cx="42" cy="15" rx="12" ry="7" stroke="#79ce55" stroke-width="1" fill="none"/>
                </symbol>
                <symbol id="sparkle" viewBox="0 0 24 24">
                    <path d="M12 0L14 10L24 12L14 14L12 24L10 14L0 12L10 10L12 0Z" fill="#79ce55"/>
                </symbol>
            </defs>
            
            <g id="main-flow-lines">
                <path class="flow-path" d="M80 0 Q 60 200 100 400 Q 140 600 80 800 Q 40 1000 100 1200 Q 150 1400 80 1600 Q 30 1800 100 2000 Q 160 2200 80 2400 Q 20 2600 100 2800 Q 170 3000 80 3200 Q 30 3400 100 3600 Q 160 3800 80 4000 L 80 6000" stroke="#79ce55" stroke-width="1.5" fill="none" opacity="0.6"/>
                <path class="flow-path-slow" d="M150 0 Q 200 150 160 350 Q 120 550 180 750 Q 230 950 150 1150 Q 100 1350 170 1550 Q 220 1750 150 1950 Q 90 2150 160 2350 Q 210 2550 150 2750 Q 100 2950 160 3150 Q 200 3350 150 3550 Q 100 3750 160 3950 L 150 6000" stroke="#79ce55" stroke-width="1" fill="none" opacity="0.5"/>
                <path class="flow-path-fast" d="M250 0 Q 300 180 260 380 Q 220 580 280 780 Q 330 980 250 1180 Q 200 1380 270 1580 Q 320 1780 250 1980 Q 190 2180 260 2380 Q 310 2580 250 2780 Q 200 2980 260 3180 Q 300 3380 250 3580 Q 200 3780 260 3980 L 250 6000" stroke="#79ce55" stroke-width="1.5" fill="none" opacity="0.7"/>
                <path class="flow-path" d="M400 0 Q 450 200 380 400 Q 320 600 400 800 Q 470 1000 380 1200 Q 310 1400 400 1600 Q 480 1800 380 2000 Q 300 2200 400 2400 Q 490 2600 380 2800 Q 290 3000 400 3200 Q 480 3400 380 3600 Q 300 3800 400 4000 L 400 6000" stroke="#79ce55" stroke-width="2" fill="none" opacity="0.6"/>
                <path class="flow-path-slow" d="M550 0 Q 500 180 560 380 Q 610 580 540 780 Q 480 980 560 1180 Q 620 1380 540 1580 Q 470 1780 560 1980 Q 630 2180 540 2380 Q 460 2580 560 2780 Q 640 2980 540 3180 Q 470 3380 560 3580 Q 630 3780 540 3980 L 550 6000" stroke="#79ce55" stroke-width="1" fill="none" opacity="0.5"/>
            </g>

            <g id="trees-layer">
                <use href="#tree" x="60" y="300" class="float" opacity="0.3"/>
                <use href="#tree" x="120" y="800" class="float float-delayed" opacity="0.25"/>
                <use href="#tree" x="30" y="1400" class="float float-delayed-2" opacity="0.3"/>
                <use href="#tree" x="90" y="2000" class="float" opacity="0.2"/>
                <use href="#tree" x="140" y="2600" class="float float-delayed" opacity="0.25"/>
                <use href="#tree" x="50" y="3200" class="float float-delayed-2" opacity="0.3"/>
            </g>

            <g id="clouds-layer">
                <use href="#cloud" x="350" y="400" class="float float-delayed" opacity="0.4"/>
                <use href="#cloud" x="420" y="1100" class="float" opacity="0.35"/>
                <use href="#cloud" x="380" y="1800" class="float float-delayed-2" opacity="0.4"/>
                <use href="#cloud" x="450" y="2500" class="float float-delayed" opacity="0.3"/>
                <use href="#cloud" x="400" y="3300" class="float" opacity="0.35"/>
            </g>

            <g id="sparkles-layer">
                <use href="#sparkle" x="200" y="600" width="20" height="20" class="sparkle sparkle-delayed" opacity="0.6"/>
                <use href="#sparkle" x="320" y="1000" width="16" height="16" class="sparkle sparkle-delayed-2" opacity="0.5"/>
                <use href="#sparkle" x="180" y="1600" width="18" height="18" class="sparkle sparkle-delayed-3" opacity="0.55"/>
                <use href="#sparkle" x="280" y="2200" width="20" height="20" class="sparkle sparkle-delayed-4" opacity="0.6"/>
                <use href="#sparkle" x="220" y="2900" width="16" height="16" class="sparkle sparkle-delayed" opacity="0.5"/>
                <use href="#sparkle" x="340" y="3500" width="18" height="18" class="sparkle sparkle-delayed-2" opacity="0.55"/>
            </g>

            <g id="data-nodes">
                <circle class="pulse-node" cx="100" cy="500" fill="#79ce55"/>
                <circle class="pulse-node" cx="160" cy="1100" fill="#79ce55"/>
                <circle class="pulse-node" cx="80" cy="1700" fill="#79ce55"/>
                <circle class="pulse-node" cx="280" cy="2300" fill="#79ce55"/>
                <circle class="pulse-node" cx="400" cy="2900" fill="#79ce55"/>
                <circle class="pulse-node" cx="250" cy="3500" fill="#79ce55"/>
            </g>
        </svg>
    </div>

    <nav id="navbar" class="fixed top-0 left-0 w-full z-50 flex justify-between items-center px-3 py-3 sm:px-6 sm:py-4 md:px-12 md:py-6 transition-all duration-300 box-border">
        <a href="index.html" class="brand-logo flex-shrink-0">
            <video src="img/animation_120px.mp4" autoplay loop muted playsinline class="h-10 sm:h-12 md:h-14 w-auto object-contain"></video>
        </a>

        <div class="flex items-center gap-2 sm:gap-4 md:gap-6">
            <!-- Language Selector -->
            <div class="lang-selector flex items-center gap-1 text-xs font-bold tracking-wide">
                <button id="lang-es" class="lang-btn px-1 sm:px-2 py-1 rounded transition-all text-rcGreen">ES</button>
                <span class="text-gray-300">|</span>
                <button id="lang-en" class="lang-btn px-1 sm:px-2 py-1 rounded transition-all text-gray-400 hover:text-gray-600">EN</button>
            </div>

            <a href="index.html" class="text-xs sm:text-sm font-bold text-gray-600 hover:text-rcGreen transition-colors" data-i18n="contact.back">
                ← Volver al inicio
            </a>
        </div>
    </nav>

    <!-- FORM WRAPPER -->
    <div class="form-wrapper pt-28">
        <!-- LEFT SIDE: FORM -->
        <div class="form-side">
            <!-- HERO TEXT -->
            <div class="hero-section reveal">
                <h1 class="text-3xl md:text-5xl font-black mb-4 tracking-tight" style="letter-spacing: -2px;">
                    <span data-i18n="contact.hero1">Empecemos a</span>
                    <span class="text-rcGreen" data-i18n="contact.hero2">trabajar juntos</span>
                </h1>
            </div>

            <form id="contactForm" class="form-container">
                
                <!-- SECCIÓN 1: INFORMACIÓN BÁSICA -->
                <div class="form-section reveal">
                    <h2 class="section-title" data-i18n="contact.section1.title">Información básica</h2>
                    <div class="section-divider"></div>

                    <div class="grid grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="form-label"><span data-i18n="form.firstName">Nombre</span><span class="required">*</span></label>
                            <input type="text" name="firstName" class="form-input" required>
                        </div>
                        <div>
                            <label class="form-label"><span data-i18n="form.lastName">Apellido</span><span class="required">*</span></label>
                            <input type="text" name="lastName" class="form-input" required>
                        </div>
                    </div>

                    <div class="grid grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="form-label"><span data-i18n="form.position">Cargo</span><span class="required">*</span></label>
                            <input type="text" name="position" class="form-input" required>
                        </div>
                        <div>
                            <label class="form-label"><span data-i18n="form.company">Empresa</span><span class="required">*</span></label>
                            <input type="text" name="company" class="form-input" required>
                        </div>
                    </div>

                    <div class="mb-4">
                        <label class="form-label"><span data-i18n="form.companyType">Tipo de empresa</span><span class="required">*</span></label>
                        <select name="companyType" class="form-select" required>
                            <option value="" data-i18n="form.selectOption">Selecciona una opción</option>
                            <option value="financial" data-i18n="form.companyType.financial">Institución financiera</option>
                            <option value="fintech" data-i18n="form.companyType.fintech">Fintech / Pagos</option>
                            <option value="corporate" data-i18n="form.companyType.corporate">Empresa corporativa</option>
                            <option value="consultant" data-i18n="form.companyType.consultant">Consultor / Asesor</option>
                        </select>
                    </div>

                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="form-label"><span data-i18n="form.country">País / Región</span><span class="required">*</span></label>
                            <input type="text" name="country" class="form-input" required>
                        </div>
                        <div>
                            <label class="form-label"><span data-i18n="form.email">Correo electrónico corporativo</span><span class="required">*</span></label>
                            <input type="email" name="email" class="form-input" required>
                        </div>
                    </div>
                </div>

                <!-- SECCIÓN 2: PRODUCTO DE INTERÉS -->
                <div class="form-section reveal">
                    <h2 class="section-title" data-i18n="contact.section2.title">Producto de interés</h2>
                    <div class="section-divider"></div>

                    <label class="form-label"><span data-i18n="form.productQuestion">¿Qué producto de RASTROCERO te interesa?</span><span class="required">*</span></label>
                    <div class="form-radio-group">
                        <label class="form-radio-label">
                            <input type="radio" name="product" value="transactional" required>
                            <div class="radio-content">
                                <div class="font-semibold text-sm" data-i18n="form.product.transactional">Índice Transaccional</div>
                                <div class="text-xs text-gray-600" data-i18n="form.product.transactional.desc">Medición de emisiones por transacción en tiempo real</div>
                            </div>
                        </label>
                        <label class="form-radio-label">
                            <input type="radio" name="product" value="financed" required>
                            <div class="radio-content">
                                <div class="font-semibold text-sm" data-i18n="form.product.financed">Calculadora de Emisiones Financiadas</div>
                                <div class="text-xs text-gray-600" data-i18n="form.product.financed.desc">Cálculo de impacto en carteras de crédito e inversión</div>
                            </div>
                        </label>
                        <label class="form-radio-label">
                            <input type="radio" name="product" value="operational" required>
                            <div class="radio-content">
                                <div class="font-semibold text-sm" data-i18n="form.product.operational">Calculadora de Actividades Operativas</div>
                                <div class="text-xs text-gray-600" data-i18n="form.product.operational.desc">Medición de emisiones corporativas (Scope 1, 2 y 3)</div>
                            </div>
                        </label>
                        <label class="form-radio-label">
                            <input type="radio" name="product" value="multiple" required>
                            <div class="radio-content">
                                <div class="font-semibold text-sm" data-i18n="form.product.multiple">Más de uno / No estoy seguro</div>
                                <div class="text-xs text-gray-600" data-i18n="form.product.multiple.desc">Necesito orientación sobre cuál me conviene</div>
                            </div>
                        </label>
                    </div>
                </div>

                <!-- SECCIÓN 3A: ÍNDICE TRANSACCIONAL -->
                <div id="section-transactional" class="form-section hidden reveal">
                    <h2 class="section-title" data-i18n="form.section.transactional">Índice Transaccional</h2>
                    <div class="section-divider"></div>

                    <div class="mb-4">
                        <label class="form-label" data-i18n="form.transactional.question">¿Qué tipo de transacciones te interesa analizar?</label>
                        <p class="help-text mb-3" data-i18n="form.selectAll">Selecciona todas las que apliquen</p>
                        <div class="form-checkbox-group">
                            <label class="form-checkbox-label">
                                <input type="checkbox" name="transactionTypes[]" value="credit">
                                <span class="checkbox-content text-sm" data-i18n="form.transactional.credit">Tarjetas de crédito</span>
                            </label>
                            <label class="form-checkbox-label">
                                <input type="checkbox" name="transactionTypes[]" value="debit">
                                <span class="checkbox-content text-sm" data-i18n="form.transactional.debit">Tarjetas de débito</span>
                            </label>
                            <label class="form-checkbox-label">
                                <input type="checkbox" name="transactionTypes[]" value="qr">
                                <span class="checkbox-content text-sm" data-i18n="form.transactional.qr">Pagos QR / instantáneos</span>
                            </label>
                            <label class="form-checkbox-label">
                                <input type="checkbox" name="transactionTypes[]" value="other">
                                <span class="checkbox-content text-sm" data-i18n="form.transactional.other">Otros medios de pago</span>
                            </label>
                            <label class="form-checkbox-label">
                                <input type="checkbox" name="transactionTypes[]" value="unsure">
                                <span class="checkbox-content text-sm" data-i18n="form.unsure">No estoy seguro todavía</span>
                            </label>
                        </div>
                    </div>

                    <div>
                        <label class="form-label"><span data-i18n="form.transactional.useQuestion">¿Para qué te gustaría usar el Índice Transaccional?</span><span class="required">*</span></label>
                        <select name="transactionalUse" class="form-select">
                            <option value="" data-i18n="form.selectOption">Selecciona una opción</option>
                            <option value="customer" data-i18n="form.transactional.use.customer">Visualización de huella para clientes</option>
                            <option value="analysis" data-i18n="form.transactional.use.analysis">Análisis agregado de emisiones</option>
                            <option value="reports" data-i18n="form.transactional.use.reports">Reportes internos o regulatorios</option>
                            <option value="engagement" data-i18n="form.transactional.use.engagement">Engagement / insights de consumo</option>
                        </select>
                    </div>
                </div>

                <!-- SECCIÓN 3B: EMISIONES FINANCIADAS -->
                <div id="section-financed" class="form-section hidden reveal">
                    <h2 class="section-title" data-i18n="form.section.financed">Calculadora de Emisiones Financiadas</h2>
                    <div class="section-divider"></div>

                    <div class="mb-4">
                        <label class="form-label" data-i18n="form.financed.question">¿Qué tipo de exposiciones te interesa medir?</label>
                        <p class="help-text mb-3" data-i18n="form.selectAll">Selecciona todas las que apliquen</p>
                        <div class="form-checkbox-group">
                            <label class="form-checkbox-label">
                                <input type="checkbox" name="exposureTypes[]" value="corporate">
                                <span class="checkbox-content text-sm" data-i18n="form.financed.corporate">Créditos corporativos</span>
                            </label>
                            <label class="form-checkbox-label">
                                <input type="checkbox" name="exposureTypes[]" value="project">
                                <span class="checkbox-content text-sm" data-i18n="form.financed.project">Project finance</span>
                            </label>
                            <label class="form-checkbox-label">
                                <input type="checkbox" name="exposureTypes[]" value="mortgage">
                                <span class="checkbox-content text-sm" data-i18n="form.financed.mortgage">Hipotecas / real estate</span>
                            </label>
                            <label class="form-checkbox-label">
                                <input type="checkbox" name="exposureTypes[]" value="sovereign">
                                <span class="checkbox-content text-sm" data-i18n="form.financed.sovereign">Exposición soberana</span>
                            </label>
                            <label class="form-checkbox-label">
                                <input type="checkbox" name="exposureTypes[]" value="investments">
                                <span class="checkbox-content text-sm" data-i18n="form.financed.investments">Inversiones</span>
                            </label>
                            <label class="form-checkbox-label">
                                <input type="checkbox" name="exposureTypes[]" value="unsure">
                                <span class="checkbox-content text-sm" data-i18n="form.unsure">No estoy seguro todavía</span>
                            </label>
                        </div>
                    </div>

                    <div class="mb-4">
                        <label class="form-label"><span data-i18n="form.financed.motivation">Motivación principal</span><span class="required">*</span></label>
                        <select name="financedMotivation" class="form-select">
                            <option value="" data-i18n="form.selectOption">Selecciona una opción</option>
                            <option value="regulatory" data-i18n="form.financed.motivation.regulatory">Reportes regulatorios / sostenibilidad</option>
                            <option value="risk" data-i18n="form.financed.motivation.risk">Gestión de riesgo</option>
                            <option value="investors" data-i18n="form.financed.motivation.investors">Requerimientos de inversores</option>
                            <option value="strategic" data-i18n="form.financed.motivation.strategic">Análisis estratégico del portafolio</option>
                        </select>
                    </div>

                    <div>
                        <label class="form-label"><span data-i18n="form.financed.stageQuestion">¿En qué etapa estás hoy?</span><span class="required">*</span></label>
                        <div class="form-radio-group">
                            <label class="form-radio-label">
                                <input type="radio" name="financedStage" value="exploring">
                                <span class="radio-content text-sm" data-i18n="form.financed.stage.exploring">Explorando el tema</span>
                            </label>
                            <label class="form-radio-label">
                                <input type="radio" name="financedStage" value="seeking">
                                <span class="radio-content text-sm" data-i18n="form.financed.stage.seeking">Buscando una solución estructurada</span>
                            </label>
                            <label class="form-radio-label">
                                <input type="radio" name="financedStage" value="improving">
                                <span class="radio-content text-sm" data-i18n="form.financed.stage.improving">Ya calculamos emisiones y queremos mejorar</span>
                            </label>
                            <label class="form-radio-label">
                                <input type="radio" name="financedStage" value="unsure">
                                <span class="radio-content text-sm" data-i18n="form.unsureShort">No estoy seguro</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- SECCIÓN 3C: ACTIVIDADES OPERATIVAS -->
                <div id="section-operational" class="form-section hidden reveal">
                    <h2 class="section-title" data-i18n="form.section.operational">Calculadora de Actividades Operativas</h2>
                    <div class="section-divider"></div>

                    <div class="mb-4">
                        <label class="form-label" data-i18n="form.operational.scopeQuestion">¿Qué alcances te interesa cubrir?</label>
                        <p class="help-text mb-3" data-i18n="form.selectAll">Selecciona todos los que apliquen</p>
                        <div class="form-checkbox-group">
                            <label class="form-checkbox-label">
                                <input type="checkbox" name="scopes[]" value="scope1">
                                <div class="checkbox-content">
                                    <div class="font-semibold text-sm" data-i18n="form.operational.scope1">Alcance 1 — Emisiones directas</div>
                                    <div class="text-xs text-gray-600" data-i18n="form.operational.scope1.desc">Combustibles, flota propia, procesos</div>
                                </div>
                            </label>
                            <label class="form-checkbox-label">
                                <input type="checkbox" name="scopes[]" value="scope2">
                                <div class="checkbox-content">
                                    <div class="font-semibold text-sm" data-i18n="form.operational.scope2">Alcance 2 — Emisiones por consumo de energía comprada</div>
                                    <div class="text-xs text-gray-600" data-i18n="form.operational.scope2.desc">Electricidad, vapor</div>
                                </div>
                            </label>
                            <label class="form-checkbox-label">
                                <input type="checkbox" name="scopes[]" value="scope3">
                                <div class="checkbox-content">
                                    <div class="font-semibold text-sm" data-i18n="form.operational.scope3">Alcance 3 — Otras emisiones indirectas</div>
                                    <div class="text-xs text-gray-600" data-i18n="form.operational.scope3.desc">Compras, viajes, logística, proveedores</div>
                                </div>
                            </label>
                            <label class="form-checkbox-label">
                                <input type="checkbox" name="scopes[]" value="unsure">
                                <span class="checkbox-content text-sm" data-i18n="form.unsure">No estoy seguro todavía</span>
                            </label>
                        </div>
                    </div>

                    <div class="mb-4">
                        <label class="form-label" data-i18n="form.operational.activitiesQuestion">¿Qué tipo de actividades operativas te interesa incluir?</label>
                        <p class="help-text mb-3" data-i18n="form.selectAll">Selecciona todas las que apliquen</p>
                        <div class="form-checkbox-group">
                            <label class="form-checkbox-label">
                                <input type="checkbox" name="activities[]" value="electricity">
                                <span class="checkbox-content text-sm" data-i18n="form.operational.electricity">Electricidad</span>
                            </label>
                            <label class="form-checkbox-label">
                                <input type="checkbox" name="activities[]" value="fuels">
                                <span class="checkbox-content text-sm" data-i18n="form.operational.fuels">Combustibles</span>
                            </label>
                            <label class="form-checkbox-label">
                                <input type="checkbox" name="activities[]" value="travel">
                                <span class="checkbox-content text-sm" data-i18n="form.operational.travel">Viajes corporativos</span>
                            </label>
                            <label class="form-checkbox-label">
                                <input type="checkbox" name="activities[]" value="goods">
                                <span class="checkbox-content text-sm" data-i18n="form.operational.goods">Bienes y servicios</span>
                            </label>
                            <label class="form-checkbox-label">
                                <input type="checkbox" name="activities[]" value="logistics">
                                <span class="checkbox-content text-sm" data-i18n="form.operational.logistics">Transporte / logística</span>
                            </label>
                            <label class="form-checkbox-label">
                                <input type="checkbox" name="activities[]" value="other">
                                <span class="checkbox-content text-sm" data-i18n="form.other">Otros</span>
                            </label>
                            <label class="form-checkbox-label">
                                <input type="checkbox" name="activities[]" value="unsure">
                                <span class="checkbox-content text-sm" data-i18n="form.unsureShort">No estoy seguro</span>
                            </label>
                        </div>
                    </div>

                    <div>
                        <label class="form-label"><span data-i18n="form.operational.statusLabel">Situación actual</span><span class="required">*</span></label>
                        <div class="form-radio-group">
                            <label class="form-radio-label">
                                <input type="radio" name="operationalStatus" value="none">
                                <span class="radio-content text-sm" data-i18n="form.operational.status.none">No calculamos emisiones operativas</span>
                            </label>
                            <label class="form-radio-label">
                                <input type="radio" name="operationalStatus" value="manual">
                                <span class="radio-content text-sm" data-i18n="form.operational.status.manual">Lo hacemos de forma manual</span>
                            </label>
                            <label class="form-radio-label">
                                <input type="radio" name="operationalStatus" value="external">
                                <span class="radio-content text-sm" data-i18n="form.operational.status.external">Lo hacemos con apoyo externo</span>
                            </label>
                            <label class="form-radio-label">
                                <input type="radio" name="operationalStatus" value="unsure">
                                <span class="radio-content text-sm" data-i18n="form.unsureShort">No estoy seguro</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- SECCIÓN 4: MENSAJE FINAL -->
                <div class="form-section reveal">
                    <h2 class="section-title" data-i18n="contact.section3.title">¿Cómo podemos ayudarte?</h2>
                    <div class="section-divider"></div>

                    <label class="form-label" data-i18n="form.additionalMessage">Mensaje adicional</label>
                    <textarea
                        name="message"
                        class="form-textarea"
                        data-i18n-placeholder="form.messagePlaceholder"
                        placeholder="Contanos brevemente qué estás buscando, si hay algún contexto regulatorio o una necesidad específica que te gustaría explorar."
                    ></textarea>
                </div>

                <!-- SUBMIT BUTTON -->
                <div class="text-center reveal">
                    <button type="submit" class="btn-brand btn-submit px-10 py-3 text-base font-black" data-i18n="contact.submit">
                        Enviar solicitud
                    </button>
                </div>

            </form>

            <!-- FOOTER -->
            <div class="form-footer text-sm text-gray-500">
                <p>&copy; 2025 Rastro Cero E.A.S.</p>
            </div>
        </div>

        <!-- RIGHT SIDE: ANIMATION -->
        <div class="animation-side">
            <!-- SVG is positioned fixed on the right -->
        </div>
    </div>

    <script>
        gsap.registerPlugin(ScrollTrigger);

        // Reveal animations
        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.1
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.reveal').forEach(el => {
            observer.observe(el);
        });

        // SVG Parallax
        gsap.to("#background-svg", {
            yPercent: -8,
            ease: "none",
            scrollTrigger: {
                trigger: document.body,
                start: "top top",
                end: "bottom bottom",
                scrub: true
            }
        });

        // Product selection logic
        const productRadios = document.querySelectorAll('input[name="product"]');
        const transactionalSection = document.getElementById('section-transactional');
        const financedSection = document.getElementById('section-financed');
        const operationalSection = document.getElementById('section-operational');

        productRadios.forEach(radio => {
            radio.addEventListener('change', function() {
                // Hide all product sections
                transactionalSection.classList.add('hidden');
                financedSection.classList.add('hidden');
                operationalSection.classList.add('hidden');

                // Clear required fields in hidden sections
                clearRequiredFields(transactionalSection);
                clearRequiredFields(financedSection);
                clearRequiredFields(operationalSection);

                // Show selected product section
                if (this.value === 'transactional') {
                    transactionalSection.classList.remove('hidden');
                    setRequiredFields(transactionalSection);
                } else if (this.value === 'financed') {
                    financedSection.classList.remove('hidden');
                    setRequiredFields(financedSection);
                } else if (this.value === 'operational') {
                    operationalSection.classList.remove('hidden');
                    setRequiredFields(operationalSection);
                }

                // Trigger reveal animation
                setTimeout(() => {
                    const sections = document.querySelectorAll('.form-section:not(.hidden)');
                    sections.forEach(section => {
                        if (!section.classList.contains('active')) {
                            observer.observe(section);
                        }
                    });
                }, 100);
            });
        });

        function clearRequiredFields(section) {
            const requiredInputs = section.querySelectorAll('[required]');
            requiredInputs.forEach(input => {
                input.removeAttribute('required');
            });
        }

        function setRequiredFields(section) {
            const inputs = section.querySelectorAll('select, input[type="radio"]');
            inputs.forEach(input => {
                if (input.closest('.form-label')?.textContent.includes('*')) {
                    input.setAttribute('required', 'required');
                }
            });
        }

        // Form submission
        document.getElementById('contactForm').addEventListener('submit', async function(e) {
            e.preventDefault();

            const submitBtn = this.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            const lang = localStorage.getItem('rc-lang') || 'es';
            submitBtn.textContent = translations[lang]['form.sending'];
            submitBtn.disabled = true;

            // Get form data
            const formData = new FormData(this);

            // Convert array fields to comma-separated strings for email readability
            const arrayFields = ['transactionTypes', 'exposureTypes', 'scopes', 'activities'];
            arrayFields.forEach(field => {
                const values = formData.getAll(field + '[]');
                if (values.length > 0) {
                    formData.delete(field + '[]');
                    formData.append(field, values.join(', '));
                }
            });

            try {
                const response = await fetch('https://formspree.io/f/mnjjjpng', {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                });

                if (response.ok) {
                    // Show success message
                    const successTitle = lang === 'en' ? 'Message sent!' : '¡Mensaje enviado!';
                    const successMsg = lang === 'en' ? 'Thank you for your interest. We will contact you soon.' : 'Gracias por tu interés. Nos pondremos en contacto contigo pronto.';
                    const backBtn = lang === 'en' ? 'Back to home' : 'Volver al inicio';
                    this.innerHTML = `
                        <div class="form-section text-center py-12">
                            <div class="text-6xl mb-4">✓</div>
                            <h2 class="text-2xl font-bold mb-4 text-rcGreen">${successTitle}</h2>
                            <p class="text-gray-600 mb-6">${successMsg}</p>
                            <a href="index.html" class="btn-brand inline-block px-8 py-3 text-sm font-bold">${backBtn}</a>
                        </div>
                    `;
                } else {
                    throw new Error('Error en el envío');
                }
            } catch (error) {
                console.error('Error:', error);
                const errorMsg = lang === 'en'
                    ? 'There was an error submitting the form. Please try again or write to rastrocero.py@gmail.com'
                    : 'Hubo un error al enviar el formulario. Por favor, intenta nuevamente o escríbenos a rastrocero.py@gmail.com';
                alert(errorMsg);
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }
        });

        // ====== INTERNATIONALIZATION ======
        const translations = {
            es: {
                'contact.back': '← Volver al inicio',
                'contact.hero1': 'Empecemos a',
                'contact.hero2': 'trabajar juntos',
                'contact.section1.title': 'Información básica',
                'contact.section2.title': 'Producto de interés',
                'contact.section3.title': '¿Cómo podemos ayudarte?',
                'contact.submit': 'Enviar solicitud',
                // Section 1 - Basic info
                'form.firstName': 'Nombre',
                'form.lastName': 'Apellido',
                'form.position': 'Cargo',
                'form.company': 'Empresa',
                'form.companyType': 'Tipo de empresa',
                'form.selectOption': 'Selecciona una opción',
                'form.companyType.financial': 'Institución financiera',
                'form.companyType.fintech': 'Fintech / Pagos',
                'form.companyType.corporate': 'Empresa corporativa',
                'form.companyType.consultant': 'Consultor / Asesor',
                'form.country': 'País / Región',
                'form.email': 'Correo electrónico corporativo',
                // Section 2 - Product
                'form.productQuestion': '¿Qué producto de RASTROCERO te interesa?',
                'form.product.transactional': 'Índice Transaccional',
                'form.product.transactional.desc': 'Medición de emisiones por transacción en tiempo real',
                'form.product.financed': 'Calculadora de Emisiones Financiadas',
                'form.product.financed.desc': 'Cálculo de impacto en carteras de crédito e inversión',
                'form.product.operational': 'Calculadora de Actividades Operativas',
                'form.product.operational.desc': 'Medición de emisiones corporativas (Scope 1, 2 y 3)',
                'form.product.multiple': 'Más de uno / No estoy seguro',
                'form.product.multiple.desc': 'Necesito orientación sobre cuál me conviene',
                // Section 3A - Transactional
                'form.section.transactional': 'Índice Transaccional',
                'form.transactional.question': '¿Qué tipo de transacciones te interesa analizar?',
                'form.selectAll': 'Selecciona todas las que apliquen',
                'form.transactional.credit': 'Tarjetas de crédito',
                'form.transactional.debit': 'Tarjetas de débito',
                'form.transactional.qr': 'Pagos QR / instantáneos',
                'form.transactional.other': 'Otros medios de pago',
                'form.unsure': 'No estoy seguro todavía',
                'form.unsureShort': 'No estoy seguro',
                'form.transactional.useQuestion': '¿Para qué te gustaría usar el Índice Transaccional?',
                'form.transactional.use.customer': 'Visualización de huella para clientes',
                'form.transactional.use.analysis': 'Análisis agregado de emisiones',
                'form.transactional.use.reports': 'Reportes internos o regulatorios',
                'form.transactional.use.engagement': 'Engagement / insights de consumo',
                // Section 3B - Financed
                'form.section.financed': 'Calculadora de Emisiones Financiadas',
                'form.financed.question': '¿Qué tipo de exposiciones te interesa medir?',
                'form.financed.corporate': 'Créditos corporativos',
                'form.financed.project': 'Project finance',
                'form.financed.mortgage': 'Hipotecas / real estate',
                'form.financed.sovereign': 'Exposición soberana',
                'form.financed.investments': 'Inversiones',
                'form.financed.motivation': 'Motivación principal',
                'form.financed.motivation.regulatory': 'Reportes regulatorios / sostenibilidad',
                'form.financed.motivation.risk': 'Gestión de riesgo',
                'form.financed.motivation.investors': 'Requerimientos de inversores',
                'form.financed.motivation.strategic': 'Análisis estratégico del portafolio',
                'form.financed.stageQuestion': '¿En qué etapa estás hoy?',
                'form.financed.stage.exploring': 'Explorando el tema',
                'form.financed.stage.seeking': 'Buscando una solución estructurada',
                'form.financed.stage.improving': 'Ya calculamos emisiones y queremos mejorar',
                // Section 3C - Operational
                'form.section.operational': 'Calculadora de Actividades Operativas',
                'form.operational.scopeQuestion': '¿Qué alcances te interesa cubrir?',
                'form.operational.scope1': 'Alcance 1 — Emisiones directas',
                'form.operational.scope1.desc': 'Combustibles, flota propia, procesos',
                'form.operational.scope2': 'Alcance 2 — Emisiones por consumo de energía comprada',
                'form.operational.scope2.desc': 'Electricidad, vapor',
                'form.operational.scope3': 'Alcance 3 — Otras emisiones indirectas',
                'form.operational.scope3.desc': 'Compras, viajes, logística, proveedores',
                'form.operational.activitiesQuestion': '¿Qué tipo de actividades operativas te interesa incluir?',
                'form.operational.electricity': 'Electricidad',
                'form.operational.fuels': 'Combustibles',
                'form.operational.travel': 'Viajes corporativos',
                'form.operational.goods': 'Bienes y servicios',
                'form.operational.logistics': 'Transporte / logística',
                'form.other': 'Otros',
                'form.operational.statusLabel': 'Situación actual',
                'form.operational.status.none': 'No calculamos emisiones operativas',
                'form.operational.status.manual': 'Lo hacemos de forma manual',
                'form.operational.status.external': 'Lo hacemos con apoyo externo',
                // Section 4 - Final
                'form.additionalMessage': 'Mensaje adicional',
                'form.messagePlaceholder': 'Contanos brevemente qué estás buscando, si hay algún contexto regulatorio o una necesidad específica que te gustaría explorar.',
                'form.sending': 'Enviando...'
            },
            en: {
                'contact.back': '← Back to home',
                'contact.hero1': "Let's start",
                'contact.hero2': 'working together',
                'contact.section1.title': 'Basic information',
                'contact.section2.title': 'Product of interest',
                'contact.section3.title': 'How can we help you?',
                'contact.submit': 'Submit request',
                // Section 1 - Basic info
                'form.firstName': 'First name',
                'form.lastName': 'Last name',
                'form.position': 'Position',
                'form.company': 'Company',
                'form.companyType': 'Company type',
                'form.selectOption': 'Select an option',
                'form.companyType.financial': 'Financial institution',
                'form.companyType.fintech': 'Fintech / Payments',
                'form.companyType.corporate': 'Corporate company',
                'form.companyType.consultant': 'Consultant / Advisor',
                'form.country': 'Country / Region',
                'form.email': 'Corporate email',
                // Section 2 - Product
                'form.productQuestion': 'Which RASTROCERO product interests you?',
                'form.product.transactional': 'Transactional Index',
                'form.product.transactional.desc': 'Real-time transaction emission measurement',
                'form.product.financed': 'Financed Emissions Calculator',
                'form.product.financed.desc': 'Impact calculation for credit and investment portfolios',
                'form.product.operational': 'Operational Activities Calculator',
                'form.product.operational.desc': 'Corporate emissions measurement (Scope 1, 2 and 3)',
                'form.product.multiple': 'More than one / Not sure',
                'form.product.multiple.desc': 'I need guidance on which one suits me',
                // Section 3A - Transactional
                'form.section.transactional': 'Transactional Index',
                'form.transactional.question': 'What type of transactions are you interested in analyzing?',
                'form.selectAll': 'Select all that apply',
                'form.transactional.credit': 'Credit cards',
                'form.transactional.debit': 'Debit cards',
                'form.transactional.qr': 'QR / instant payments',
                'form.transactional.other': 'Other payment methods',
                'form.unsure': 'Not sure yet',
                'form.unsureShort': 'Not sure',
                'form.transactional.useQuestion': 'What would you like to use the Transactional Index for?',
                'form.transactional.use.customer': 'Footprint visualization for customers',
                'form.transactional.use.analysis': 'Aggregated emissions analysis',
                'form.transactional.use.reports': 'Internal or regulatory reports',
                'form.transactional.use.engagement': 'Engagement / consumption insights',
                // Section 3B - Financed
                'form.section.financed': 'Financed Emissions Calculator',
                'form.financed.question': 'What types of exposures are you interested in measuring?',
                'form.financed.corporate': 'Corporate loans',
                'form.financed.project': 'Project finance',
                'form.financed.mortgage': 'Mortgages / real estate',
                'form.financed.sovereign': 'Sovereign exposure',
                'form.financed.investments': 'Investments',
                'form.financed.motivation': 'Main motivation',
                'form.financed.motivation.regulatory': 'Regulatory / sustainability reports',
                'form.financed.motivation.risk': 'Risk management',
                'form.financed.motivation.investors': 'Investor requirements',
                'form.financed.motivation.strategic': 'Strategic portfolio analysis',
                'form.financed.stageQuestion': 'What stage are you at today?',
                'form.financed.stage.exploring': 'Exploring the topic',
                'form.financed.stage.seeking': 'Looking for a structured solution',
                'form.financed.stage.improving': 'We already calculate emissions and want to improve',
                // Section 3C - Operational
                'form.section.operational': 'Operational Activities Calculator',
                'form.operational.scopeQuestion': 'What scopes are you interested in covering?',
                'form.operational.scope1': 'Scope 1 — Direct emissions',
                'form.operational.scope1.desc': 'Fuels, own fleet, processes',
                'form.operational.scope2': 'Scope 2 — Purchased energy consumption emissions',
                'form.operational.scope2.desc': 'Electricity, steam',
                'form.operational.scope3': 'Scope 3 — Other indirect emissions',
                'form.operational.scope3.desc': 'Purchases, travel, logistics, suppliers',
                'form.operational.activitiesQuestion': 'What type of operational activities are you interested in including?',
                'form.operational.electricity': 'Electricity',
                'form.operational.fuels': 'Fuels',
                'form.operational.travel': 'Corporate travel',
                'form.operational.goods': 'Goods and services',
                'form.operational.logistics': 'Transportation / logistics',
                'form.other': 'Other',
                'form.operational.statusLabel': 'Current status',
                'form.operational.status.none': 'We do not calculate operational emissions',
                'form.operational.status.manual': 'We do it manually',
                'form.operational.status.external': 'We do it with external support',
                // Section 4 - Final
                'form.additionalMessage': 'Additional message',
                'form.messagePlaceholder': 'Tell us briefly what you are looking for, if there is any regulatory context or specific need you would like to explore.',
                'form.sending': 'Sending...'
            }
        };

        // Check for URL parameter first (allows sharing links like ?lang=en)
        const urlParams = new URLSearchParams(window.location.search);
        const urlLang = urlParams.get('lang');
        let currentLang = urlLang && ['es', 'en'].includes(urlLang) ? urlLang : (localStorage.getItem('rc-lang') || 'es');

        function setLanguage(lang) {
            currentLang = lang;
            localStorage.setItem('rc-lang', lang);

            // Update button states
            document.getElementById('lang-es').classList.toggle('text-rcGreen', lang === 'es');
            document.getElementById('lang-es').classList.toggle('text-gray-400', lang !== 'es');
            document.getElementById('lang-en').classList.toggle('text-rcGreen', lang === 'en');
            document.getElementById('lang-en').classList.toggle('text-gray-400', lang !== 'en');

            // Update all translatable elements
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (translations[lang][key]) {
                    el.textContent = translations[lang][key];
                }
            });

            // Update placeholder translations
            document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
                const key = el.getAttribute('data-i18n-placeholder');
                if (translations[lang][key]) {
                    el.placeholder = translations[lang][key];
                }
            });

            // Update HTML lang attribute
            document.documentElement.lang = lang;
        }

        // Initialize language
        document.getElementById('lang-es').addEventListener('click', () => setLanguage('es'));
        document.getElementById('lang-en').addEventListener('click', () => setLanguage('en'));

        // Set initial language
        setLanguage(currentLang);
    </script>
</body>
</html>
